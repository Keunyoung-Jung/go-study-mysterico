# 04 - Go Package

Go ì–¸ì–´ì˜ ë¬¸ë²•ê³¼ í•¨ìˆ˜ ë“±ì— ëŒ€í•´ ì¢€ ë” ì•Œì•„ë´…ì‹œë‹¤ ğŸŒï¸â€â™€ï¸


<br /><br />

## Goì˜ ë‚´ì¥ í•¨ìˆ˜

Goì˜ [ë‚´ì¥í•¨ìˆ˜](https://thebook.io/006806/ch02/04/04/)ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì. 

ì´ ë‚´ìš©ì€ ë¬¸ë²•ì— ëŒ€í•˜ì—¬ ì„¸ì„¸í•œ ëª…ì„¸ëŠ” ë‹¬ì§€ ì•ŠëŠ”ë‹¤. ë¬¸ë²•ìƒìœ¼ë¡œ íŠ¹ì´í•œ ì¼€ì´ìŠ¤ê°€ ì•„ë‹ˆë©´ ê°„ëµí•˜ê²Œ ì„¤ëª…í•˜ë©°, í˜¹ì€ ìƒëµí•˜ê¸°ë„ í•œë‹¤.

ë§Œì¼ ì½”ë“œ ì‘ì„± ì¤‘ ë¬¸ë²•ì— ê´€í•˜ì—¬ ì–´ë ¤ìš´ ì ì´ë‚˜ ë” ë°°ì›Œì•¼ í•  í•„ìš”ì„±ì„ ëŠë¼ëŠ” ê²½ìš° [ì˜ˆì œë¡œ ë°°ìš°ëŠ” Go í”„ë¡œê·¸ë˜ë°](http://golang.site/go/basics)ì´ë‚˜ [Go ì–¸ì–´ ì›¹ í”„ë¡œê·¸ë˜ë° ì² ì € ì…ë¬¸](https://thebook.io/006806/) ë“±ì˜ ì±…ì„ ì°¸ê³ í•˜ê¸¸ ë°”ë€ë‹¤.

<br />

### Go ì½œë ‰ì…˜ í•¨ìˆ˜

Goì—ì„œ ì¼ì»«ëŠ” ì»¬ë ‰ì…˜ì€ `ë°°ì—´`, `ìŠ¬ë¼ì´ìŠ¤`, `ë§µ`ìœ¼ë¡œ ë‚˜ë‰œë‹¤.

- `ë°°ì—´`ì€ ì—°ì†ëœ ë©”ëª¨ë¦¬ ê³µê°„ì— ë™ì¼í•œ íƒ€ì…ì˜ ë°ì´í„°ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì €ì¥í•œë‹¤.
	1. Goì—ì„œ ë°°ì—´ì˜ í¬ê¸°ëŠ” íƒ€ì…ìœ¼ë¡œì„œì˜ ì˜ì˜ë¥¼ ê°€ì§„ë‹¤. ë•Œë¬¸ì— `[3]int`ì™€ `[5]int`ëŠ” ë™ì¼í•˜ì§€ ì•Šì€ íƒ€ì…ìœ¼ë¡œ ì¸ì‹í•œë‹¤.
	2. ë‹¤ì°¨ì› ë°°ì—´ì„ ì§€ì›í•œë‹¤.
	```
	var multiArray [3][4][5]int  // ì •ì˜
	multiArray[0][1][2] = 10     // ì‚¬ìš©
	```

- `ìŠ¬ë¼ì´ìŠ¤`ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë°°ì—´ê³¼ ìœ ì‚¬í•œ êµ¬ì¡°ì´ë‚˜, ê°œë°œ ì‹œ í¸ë¦¬í•œ ê¸°ëŠ¥ì„ ëª‡ ê°€ì§€ ê°€ì§€ê³  ìˆë‹¤.
	1. í¬ê¸°ë¥¼ ë™ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
	2. ë°°ì—´ì˜ ì¼ë¶€ë¥¼ ë°œì·Œí•˜ê±°ë‚˜ ë³€ê²½í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.

- `ë§µ`ì€ `Key`ì™€ `Value`ë¥¼ ê°€ì§€ê³  ìˆëŠ” í˜•íƒœì´ë‹¤. [í•´ì‹œí…Œì´ë¸”](https://mangkyu.tistory.com/m/102)ì„ êµ¬í˜„í•œ í˜•íƒœì´ê¸° ë•Œë¬¸ì— í‚¤ì— ëŒ€ì‘í•˜ëŠ” ê°’ì„ ë¹ ë¥´ê²Œ ì°¾ì„ ìˆ˜ ìˆë‹¤.



#### `append()`

ìŠ¬ë¼ì´ìŠ¤ì— ê°’ì„ ìˆœì°¨ì ìœ¼ë¡œ ì €ì¥í•œë‹¤.

```
package main
 
import "fmt"
 
func main() {
    // len=0, cap=3 ì¸ ìŠ¬ë¼ì´ìŠ¤
    sliceA := make([]int, 0, 3)
 
    // ê³„ì† í•œ ìš”ì†Œì”© ì¶”ê°€
    for i := 1; i <= 15; i++ {
        sliceA = append(sliceA, i)
        // ìŠ¬ë¼ì´ìŠ¤ ê¸¸ì´ì™€ ìš©ëŸ‰ í™•ì¸
        fmt.Println(len(sliceA), cap(sliceA))
    }
 
    fmt.Println(sliceA) // 1 ë¶€í„° 15 ê¹Œì§€ ìˆ«ì ì¶œë ¥ 
}
```

<br />

#### `copy()`

ìŠ¬ë¼ì´ìŠ¤ì— ì €ì¥ëœ ìš”ì†Œë¥¼ ë³µì‚¬í•  ìˆ˜ ìˆë‹¤.

```
func main() {
    source := []int{0, 1, 2}
    target := make([]int, len(source), cap(source)*2)
    copy(target, source)
    fmt.Println(target)  // [0 1 2 ] ì¶œë ¥
    println(len(target), cap(target)) // 3, 6 ì¶œë ¥
}
```

<br />

#### `len()`

ìŠ¬ë¼ì´ìŠ¤ì˜ ì›ì†Œ ê°œìˆ˜(ì¦‰, ë°°ì—´ì˜ ê¸¸ì´)ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

<br />

#### `cap()`

ìŠ¬ë¼ì´ìŠ¤ì˜ ì „ì²´ í¬ê¸°(ìµœëŒ€ ìš©ëŸ‰)ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```
func main() {
    s := make([]int, 5, 10)
    println(len(s), cap(s)) // len 5, cap 10
}
```


<br />

---

### Go ë³µì†Œìˆ˜ í•¨ìˆ˜

#### `complex`
ì‹¤ìˆ˜ë¶€/í—ˆìˆ˜ë¶€ë¥¼ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆëŠ” íƒ€ì…ë‹ˆë‹¤.
ë’¤ì— ë¶™ì€ ìˆ«ìë¥¼ í†µí•´ ë¹„íŠ¸ìˆ˜ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤. 

ex) `complex64`(32ë¹„íŠ¸), `complex128`(64ë¹„íŠ¸)

#### `real()`

complex íƒ€ì… ë³€ìˆ˜ì˜ ì‹¤ìˆ˜ê°’ì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ì„ ê°€ì ¸ì˜¨ë‹¤.

#### `imag`

complex íƒ€ì… ë³€ìˆ˜ì˜ í—ˆìˆ˜ê°’ì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ì„ ê°€ì ¸ì˜¨ë‹¤.

```
var x complex128 = complex(1, 2) // 1+2i
var y complex128 = complex(3, 4) // 3+4i
fmt.Println(x*y)                 // "(-5+10i)"
fmt.Println(real(x*y))           // "-5"
fmt.Println(imag(x*y))           // "10"
```

<br />

---

<br /><br />

## í´ë¡œì €(Closure)


ë‹¤ìŒ [ì˜ˆì œ](https://go.dev/tour/moretypes/25)ë¥¼ í™•ì¸í•´ë³´ì.

```
package main

import "fmt"

func adder() func(int) int {
	sum := 0
	return func(x int) int {
		sum += x
		return sum
	}
}

func main() {
	pos := adder()
	for i := 0; i < 10; i++ {
		fmt.Println(
			pos(i),
		)
	}
}
```

### **í´ë¡œì €**ë€ ë­ì§€?

í´ë¡œì €ì— ëŒ€í•´ì„œëŠ” ë‹¤ì–‘í•œ ì •ì˜ê°€ ìˆìœ¼ë‚˜ `ì–´ë–¤ í•¨ìˆ˜ì—ì„œ ì„ ì–¸í•œ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ëŠ” ë‚´ë¶€í•¨ìˆ˜ Bë¥¼ ì™¸ë¶€ë¡œ ì „ë‹¬í•  ê²½ìš°, ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ëë‚œ í›„ì—ë„ ë³€ìˆ˜ê°€ ì‚¬ë¼ì§€ì§€ ì•ŠëŠ” í˜„ìƒ` ì´ë¼ê³  ìš”ì•½í•˜ê² ë‹¤.

ë™ì‘ ë°©ì‹ì— ë”°ë¼ ì°¨ì´ê°€ ìˆì§€ë§Œ ì¼ë°˜ì ìœ¼ë¡œ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ëë‚œ ì–¸ì–´ëŠ” ë”ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ê²ƒìœ¼ë¡œ í™•ì¸ëœë‹¤. ê·¸ë¦¬ê³  ê³§ ê°€ë¹„ì§€ ì»¬ë ‰í„°ì— ë”°ë¼ ë©”ëª¨ë¦¬ê°€ í•´ì œëœë‹¤.

ê·¸ëŸ¬ë‚˜ í´ë¡œì €ì˜ ê²½ìš°ì—ëŠ” ë‹¤ë¥´ë‹¤. í•¨ìˆ˜ë¥¼ return ê°’ìœ¼ë¡œ ì „ë‹¬í•  ë•Œ ê·¸ í•¨ìˆ˜ê°€ ì–´ë–¤ ê°’ì„ ì°¸ì¡°í•˜ê³  ìˆëŠ” ê²½ìš° ê°€ë¹„ì§€ ì»¬ë ‰í„°ëŠ” ëŒ€ìƒì„ ìˆ˜ì§‘í•˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ëë‚œ í›„ì—ë„ ê³„ì† ìœ ì§€ëœë‹¤.

ì´ë•Œ, `Closure`ë¥¼ ì§€ì›í•˜ëŠ” ì–¸ì–´ëŠ” í•˜ë‚˜ì˜ ì¡°ê±´ì„ ìš”í•œë‹¤. í•¨ìˆ˜ê°€ **ì¼ê¸‰ ê°ì²´**ë¡œ ë‹¤ë¤„ì ¸ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤.

<br />

### **ì¼ê¸‰ ê°ì²´**ê°€ ë­ì§€?

- ì •ìˆ˜
- ì‹¤ìˆ˜
- ì¼ë¶€ ë¬¸ìì—´

ì¼ê¸‰ ê°ì²´ëŠ” í•¨ìˆ˜ì˜ ì¸ìê°€ ë˜ê³ , ë°˜í™˜ê°’ì´ ë˜ê³ , ìˆ˜ì •ì´ë‚˜ í• ë‹¹ì´ ê°€ëŠ¥í•˜ë‹¤.  
ë˜í•œ ë³€ìˆ˜ì— ëŒ€ì…í•˜ëŠ” ê²ƒ ë˜í•œ ê°€ëŠ¥í•˜ë‹¤.

íŒŒì´ì¬ì€ í•¨ìˆ˜ë¥¼ *ì¼ê¸‰ ê°ì²´*ë¡œ ë‹¤ë£¬ë‹¤. ë•Œë¬¸ì— Closure ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.

```
def add(a, b):
    return a + b

def execute(func, *args):
    return func(*args) #*argsëŠ” ì—¬ëŸ¬ ì¸ìˆ˜ë¥¼ ë°›ëŠ”ë‹¤ëŠ” ì˜ë¯¸

f = add

>>> execute(f, 3, 5) # 1.

8
```

ë‹¤ìŒ ì˜ˆì œì—ì„œëŠ” executeë¼ëŠ” í•¨ìˆ˜ë¡œ add í•¨ìˆ˜ë¥¼ í•œ ë²ˆ ê°ìŒŒë‹¤.

ì´ ê³¼ì •ì—ì„œ fë¼ëŠ” í•¨ìˆ˜ëŠ” executeì˜ ì¸ìë¡œ ì „ë‹¬ë˜ì—ˆë‹¤.

ë˜í•œ addë¼ëŠ” í•¨ìˆ˜ëŠ” fì— ì €ì¥ë˜ì—ˆë‹¤.

<br />

ìë°”ìŠ¤í¬ë¦½íŠ¸ ë˜í•œ í•¨ìˆ˜ë¥¼ *ì¼ê¸‰ ê°ì²´*ë¡œ ë‹¤ë£¬ë‹¤.

```

const func_len = (data) => {
    return data.length;
}

const spliter = (arr) => {
    return arr[0];
}

let data = ["hello", "world", "this", "is", "study"];

const value = func_len(spliter(data));
//value : 5

```

í•¨ìˆ˜ë¥¼ ë³€ìˆ˜ì— ëŒ€ì…í•˜ê³ , ì¸ìì— ë³´ë‚´ê³ , ê·¸ ê°’ì„ ë°›ì•„ì˜¤ëŠ” ì¼ë ¨ì˜ ê³¼ì •ì´ ìì—°ìŠ¤ëŸ½ê²Œ ì´ë£¨ì–´ì§„ë‹¤. í•¨ìˆ˜ë¥¼ `ì¼ê¸‰ ê°ì²´`ë¡œ ë‹¤ë£¬ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.


Goì—ì„œì˜ Closureë¥¼ ë³´ê³  ë„˜ê¸°ë„ë¡ í•˜ì.
```
package main
  
import (
    "fmt"
    "strings"
)
  
func makeSuffix(suffix string) func(string) string {
    return func(name string) string {
        if !strings.HasSuffix(name, suffix) {
            return name + suffix
        }
        return name
    }
}
  
func main() {
    addZip := makeSuffix(".zip")
    addTgz := makeSuffix(".tar.gz")
    fmt.Println(addTgz("go1.5.1.src"))
    fmt.Println(addZip("go1.5.1.windows-amd64"))
}
```

<br /><br />

## í•¨ìˆ˜ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•˜ëŠ” ë²•

Goê°€ í•¨ìˆ˜ë¥¼ ì¼ê¸‰ ê°ì²´ë¡œ ë‹¤ë£¬ë‹¤ëŠ” ì‚¬ì‹¤ì´ ë°í˜€ì¡Œìœ¼ë‹ˆ, í•¨ìˆ˜ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•˜ëŠ” ì¼ì´ ì´ì œ ì™€ì„œ ê·¸ë‹¤ì§€ ìƒˆì‚¼ìŠ¤ëŸ½ì§€ ì•Šì„ ê²ƒì´ë‹¤.

ê°„ë‹¨í•œ ì˜ˆì œë¥¼ ë³´ê³  ë„˜ê¸°ë„ë¡ í•˜ì.

```
package main
  
import "fmt"
  
func callback(y int, f func(int, int)) {
    f(y, 2) // add(1, 2)ë¥¼ í˜¸ì¶œ
}
  
func add(a, b int) {
    fmt.Printf("%d + %d = %d\n", a, b, a+b) // 1 + 2 = 3
}
  
func main() {
    callback(1, add) // 1 + 2 = 3
}

```

<br /><br />

## ì°¸ê³  ìë£Œ

http://golang.site/go/article/11-Go-%ED%81%B4%EB%A1%9C%EC%A0%80

https://cjwoov.tistory.com/8

https://thebook.io/006806/ch02/04/03/

https://thebook.io/006806/ch03/02/03/

https://go.dev/tour/moretypes/25

https://hwan-shell.tistory.com/339

https://ko.wikipedia.org/wiki/%ED%81%B4%EB%A1%9C%EC%A0%80_(%EC%BB%B4%ED%93%A8%ED%84%B0_%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D)

https://shoark7.github.io/programming/python/closure-in-python

https://ko.wikipedia.org/wiki/%EC%9D%BC%EA%B8%89_%EA%B0%9D%EC%B2%B4

https://velog.io/@graphicnovel/JS-%ED%81%B4%EB%A1%9C%EC%A0%80%EC%9D%98-%EC%9D%98%EB%AF%B8%EC%99%80-%EC%9B%90%EB%A6%AC-%EC%9D%B4%ED%95%B4-Closure
